{% extends 'Sbase.html' %}

{% block content %}
<section class="content card">
  <div class="card-header">
    <h4 class="card-title">My Allotment</h4>
    <div class="heading-elements">
      <ul class="list-inline mb-0">
        <li>
          <a class="btn btn-sm btn-primary box-shadow-2 round btn-min-width pull-right" href="#">Quick Book</a>
        </li>
      </ul>
    </div>
  </div>

  <h4 class="card-title mt-2 btn btn-sm btn-danger">Notice</h4>
  <ul class="list-inline mb-0">
    <li>
      I <b>{{ name }}</b> am aware that I must pay my hostel fees in full to secure a bed.
    </li>
  </ul>

  <div class="card-content">
    <div class="table-responsive">
      <table id="recentbeds" class="table table-hover table-xl mb-0 ps">
        <thead>
         <tr>

            <th class="border-top-0">#</th>

            <th class="border-top-0">Action</th>
            <th class="border-top-0">View Payments</th>
            <th class="border-top-0">Stud ID</th>
            <th class="border-top-0">Stud Name</th>
            <th class="border-top-0">Block</th>
            <th class="border-top-0">Category</th>
            <th class="border-top-0">Room Type</th>
            <th class="border-top-0">Room</th>
            <th class="border-top-0">Bill</th>
            <th class="border-top-0">Paid</th>
            <th class="border-top-0">Balance</th>
            <th class="border-top-0">Status</th>

          </tr>
        </thead>
        <tbody>
          {% for booking in bookings %}
          <tr>
            <td></td>
            {% if booking.status == 'Pending' %}
            <td>
              <a>Quick Pay</a>
            </td>
            {% else %}
            <td>
              <a>View Details <i class="fas fa-eye"></i></a>
            </td>
            {% endif %}
            <!-- Display other booking details -->
            <td>{{ booking.student_id }}</td>
            <td>
              <a class="nav-link showloader">{{ booking.student_name }}</a>
            </td>
            <td>{{ booking.block_name }}</td>
            <td>{{ booking.room_type }}</td>
            <td>{{ booking.name }}</td>
            <td>{{ booking.price }}</td>
            <td>0</td>
            <td>{{ booking.price }}</td>
            {% if booking.status == 'Pending' %}
            <td>
              <span class="badge badge-warning">{{ booking.status }}</span>
            </td>
            {% elif booking.status == 'expired' %}
            <td>
              <span class="badge badge-info">Expired</span>
            </td>
            {% else %}
            <td>
              <span class="badge badge-success">{{ booking.status }}</span>
            </td>
            {% endif %}
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</section>
{% endblock %}
